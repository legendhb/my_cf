/*! gallery-1.0.0 2014-12-10 20:57:08 */
define("pandora/gallery/1.0.0/gallery",["$","pandora/widget/1.0.0/widget","pandora/base/1.0.0/base","pandora/class/1.0.0/class","pandora/events/1.0.0/events","./fullscreen","pandora/overlay/1.0.0/overlay","./fullscreen.css","./fullscreen.handlebars","./thumbnails","./gallery.css","./gallery.handlebars"],function(a,b,c){"use strict";function d(){var a={},b=navigator.userAgent,c=(b.match(/Web[kK]it[\/]{0,1}([\d.]+)/),b.match(/(Android);?[\s\/]+([\d.]+)?/)),d=b.match(/(iPad).*OS\s([\d_]+)/),e=b.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&b.match(/(iPhone\sOS)\s([\d_]+)/),g=b.match(/Windows Phone ([\d.]+)/),h=b.match(/Chrome\/([\d.]+)/)||b.match(/CriOS\/([\d.]+)/),i=b.match(/MSIE\s([\d.]+)/)||b.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),j=b.match(/Firefox\/([\d.]+)/),k=!h&&b.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/);return c&&(a.android=!0,a.version=c[2]),f&&!e&&(a.ios=a.iphone=!0,a.version=f[2].replace(/_/g,".")),d&&(a.ios=a.ipad=!0,a.version=d[2].replace(/_/g,".")),e&&(a.ios=a.ipod=!0,a.version=e[3]?e[3].replace(/_/g,"."):null),g&&(a.wp=!0,a.version=g[1]),k&&(a.webview=!0),a.tablet=!!(d||c&&!b.match(/Mobile/)||j&&b.match(/Tablet/)||i&&!b.match(/Phone/)&&b.match(/Touch/)),a.phone=!(a.tablet||a.ipod||!(c||f||h&&b.match(/Android/)||h&&b.match(/CriOS\/([\d.]+)/)||j&&b.match(/Mobile/)||i&&b.match(/Touch/))),a.phone||a.tablet}var e,f=a("$"),g=a("pandora/widget/1.0.0/widget"),h=a("./fullscreen"),i=a("./thumbnails"),j=a("./gallery.css"),k=g.extend({defaults:{classPrefix:"gb-gallery",container:null,element:".gb-gallery",imageWrapper:".gb-gallery-viewport",images:[],imageField:"src",title:"图集",anchor:!1,cycle:!1,autoPlay:!1,interval:3e3,startIndex:0,display:"limit",effect:"slide-hori",animationSpeed:300,fullscreen:!0,thumbnails:!0,thumbHeight:"65px",thumbWidth:"20%",maxWidth:600,maxHeight:400,importStyle:!0,prev:null,next:null,template:a("./gallery.handlebars"),data:{},delegates:{"click [data-role=prev]":"prevImage","click [data-role=next]":"nextImage","mouseover [data-role=next]":function(){!this.mobile&&this.role("next-icon").show()},"mouseout [data-role=next]":function(){!this.mobile&&this.role("next-icon").hide()},"mouseover [data-role=prev]":function(){!this.mobile&&this.role("prev-icon").show()},"mouseout [data-role=prev]":function(){!this.mobile&&this.role("prev-icon").hide()},"click [data-role=fullscreen-trigger]":function(){this.fullscreen&&this.fullscreen.show()},"click [data-role=thumbnails-trigger]":function(){this.thumbnails&&this.thumbnails.toggle()}},events:{"before:showWhenLoaded":function(a){var b=a.target;b.option("autoPlay")&&b.option("interval")&&(b.interval=b.option("interval"))},"after:render":function(a){var b=a.target;b.mobile&&b.role("prev-icon").add(b.role("next-icon")).css({display:"block"})}}},setup:function(){var a=this;if(a.images=a.getData(),!(a.images.length<=0)){a.mobile=d(),a.currentIndex=a._getStartIndex(),a.inTransition=!1;var b=a.option("title"),c=a.option("thumbnails"),f=a.option("thumbWidth"),g=a.option("thumbHeight"),l=a.option("fullscreen"),m=a.option("prev"),n=a.option("next");b&&a.data({title:b}),a.images&&a.data({images:a.images}),c&&(f&&-1==f.indexOf("%")&&(f=-1==f.indexOf("px")?f+"px":f),g&&-1==g.indexOf("%")&&(g=-1==g.indexOf("px")?g+"px":g),a.data({thumbnails:c,thumbHeight:g,thumbWidth:f})),l&&a.data({fullscreen:l}),m&&a.data({prev:m}),n&&a.data({next:n}),this.option("importStyle")&&!e&&(j(),e=!0),a.render(),a.imageWrapper=a.$(this.option("imageWrapper")),a.imageWrapperWidth=a.imageWrapper.width(),a.imageWrapperHeight=a.imageWrapper.height();var o={"text-align":"center",position:"relative"};"limit"==a.option("display")&&(o.height=a.option("maxHeight")),a.imageWrapper.css(o),a.loading(!0),a.role("current").empty().append(a.currentIndex+1),a.role("total").empty().append(a.images.length),a.option("maxWidth")&&(a.role("gallery-content").css({width:a.option("maxWidth")+"px"}),a.imageWrapperWidth=a.option("maxWidth")),l&&(a.fullscreen=new h({gallery:a,element:a.role("fullscreen"),css:{zIndex:1001}})),c&&(a.thumbnails=new i({gallery:a,element:a.role("thumbnails")})),a.showImage(a.currentIndex,function(){a.preloadImage(a.currentIndex+1)}),a.option("autoPlay")&&(a.interval=a.option("interval"),setInterval(function(){a.inTransition||(a.interval-=100),a.interval<=0&&(a.nextImage(),a.interval=a.option("interval"))},100)),a.initDelegates({keydown:function(a){37===a.keyCode&&this.prevImage(),39===a.keyCode&&this.nextImage()}},document),"full"==a.option("display")&&a.initDelegates({resize:function(){k.DISPLAY[a.option("display")].call(a,a.currentIndex,a.currentImage)}},a.viewport)}},getData:function(){var a=this,b=[];if(a.option("images")&&a.option("images").length>0)b=a.option("images");else{var c=a.role("data-list");c.length>0&&c.find("a").each(function(){var a={},c=f(this).find("img");a.original=f(this).attr("href"),a.src=c.data("src")||a.original,a.thumb=c.data("thumb")||a.src,a.big=c.data("big")||a.src,a.height=c.data("height")||null,a.width=c.data("width")||null,a.desc=c.attr("alt"),b.push(a)})}return b},showImage:function(a,b){var c=this;if(c.images[a]&&!c.inTransition){c.inTransition=!0;var d=c.images[a];d.preloaded?c.showWhenLoaded(a,b):(c.currentImage&&c.currentImage.hide(),c.loading(!0),c.preloadImage(a,function(){c.loading(!1),c.showWhenLoaded(a,b)}))}},prevIndex:function(){var a=!1;if(0===this.currentIndex){if(!this.option("cycle"))return!1;a=this.images.length-1}else a=this.currentIndex-1;return a},prevImage:function(a){var b=this.prevIndex();return b===!1?!1:(this.showImage(b,a),this.preloadImage(b-1),!0)},nextIndex:function(){var a=!1;if(this.currentIndex===this.images.length-1){if(!this.option("cycle"))return!1;a=0}else a=this.currentIndex+1;return a},nextImage:function(a){var b=this.nextIndex();return b===!1?!1:(this.showImage(b,a),this.preloadImage(b+1),!0)},showOriginal:function(a){this.role("original").attr("href",a)},loading:function(a){a?this.imageWrapper.addClass("loading"):this.imageWrapper.removeClass("loading")},preloadImage:function(a,b){var c=this;if(c.images[a]){var d=c.images[a];if(d.preloaded)c.fireCallback(b);else{var e=f(new Image);e.attr("src",d[c.option("imageField")]),c.isImageLoaded(e[0])?(d.preloaded=!0,d.size={width:e[0].width,height:e[0].height},c.fireCallback(b)):e.load(function(){d.preloaded=!0,d.size={width:this.width,height:this.height},c.fireCallback(b)}).error(function(){d.error=!0,d.preloaded=!1,d.size=!1})}}},_getStartIndex:function(){var a=parseInt(this.option("startIndex"),10),b=this.option("anchor");return b&&window.location.hash&&window.location.hash.indexOf("#"+b)>=0&&(a=parseInt(window.location.hash.replace(/[^0-9]+/g,""),10),1*a!=a&&(a=parseInt(this.option("startIndex"),10)),a>=this.images.length&&(a=0)),a},isImageLoaded:function(a){return"undefined"==typeof a.complete||a.complete?"undefined"!=typeof a.naturalWidth&&0===a.naturalWidth?!1:!0:!1},showWhenLoaded:function(a,b){if(this.images[a]){var c=this,d=c.images[a],e=f(new Image);e.attr("src",d[c.option("imageField")]);var g=f(document.createElement("div")).addClass("gb-gallery-viewport-con").css({position:"absolute",width:"100%",left:"0",top:"0"});g.append(e),c.imageWrapper.prepend(g),k.DISPLAY[c.option("display")].call(c,a,g);var h=this.option("animationSpeed"),i="swing",j="right";c.currentIndex<a&&(j="left");var l=k.EFFECTS[c.option("effect")].call(this,g,j);if("undefined"!=typeof l.speed&&(h=l.speed),"undefined"!=typeof l.easing&&(i=l.easing),c.currentImage){var m=c.currentImage;m.animate(l.oldImage,h,i,function(){m.remove()})}g.animate(l.newImage,h,i,function(){c.thumbnails&&c.thumbnails.go(a),c.currentIndex=a,c.role("current").empty().append(parseInt(a,10)+1),c.role("desc").empty().append(c.images[a].desc),c.showOriginal(c.images[a].original),c.currentImage=g,c.inTransition=!1,c.option("anchor")&&(window.location.hash="#"+c.option("anchor")+a),c.fireCallback(b)})}},fireCallback:function(a,b){f.isFunction(a)&&a.call(this,b)},destroy:function(a){return a?this.on("destroy",a):(this.fullscreen&&this.fullscreen.destroy(),this.thumbnails&&this.thumbnails.destroy(),void k.superclass.destroy.apply(this))}});k.DISPLAY={"width-first":function(a,b){var c=this.images[a].size.height,d=this.images[a].size.width,e=c/d,f=b.find("img"),g=this.option("maxHeight")?this.option("maxHeight"):this.imageWrapperHeight;d>this.imageWrapperWidth&&(d=this.imageWrapperWidth,c=parseInt(this.imageWrapperWidth*e,0)),c>g&&(c=g,d=parseInt(c/e,0)),this.imageWrapperHeight=c,this.imageWrapper.height(this.imageWrapperHeight),f.css({height:c,width:d}).parent().css({top:parseInt((this.imageWrapperHeight-c)/2,0)+"px"});var h=this.imageWrapper.find("[data-role=prev-icon]"),i=this.imageWrapper.find("[data-role=next-icon]");h.add(i).css({top:(this.imageWrapperHeight-i.height())/2})},"height-first":function(a,b){var c=this.images[a].size.height,d=this.images[a].size.width,e=c/d,f=b.find("img"),g=this.option("maxHeight")?this.option("maxHeight"):this.imageWrapperHeight,h=this.option("maxWidth")?this.option("maxWidth"):this.imageWrapperWidth;c>g&&(c=g,d=parseInt(c/e,0)),d>h&&(d=h,c=parseInt(c*e,0)),this.imageWrapperHeight=c,this.imageWrapper.height(this.imageWrapperHeight),f.css({height:c,width:d}).parent().css({top:parseInt((this.imageWrapperHeight-c)/2,0)+"px"});var i=this.imageWrapper.find("[data-role=prev-icon]"),j=this.imageWrapper.find("[data-role=next-icon]");i.add(j).css({top:(this.imageWrapperHeight-j.height())/2})},limit:function(a,b){var c=this.images[a].size.height,d=this.images[a].size.width,e=c/d,f=this.option("maxHeight")/this.option("maxWidth"),g=b.find("img"),h=this.option("maxHeight")?this.option("maxHeight"):this.imageWrapperHeight,i=this.option("maxWidth")?this.option("maxWidth"):this.imageWrapperWidth;this.imageWrapperHeight=h,this.imageWrapper.height(this.imageWrapperHeight),e>f?(c=h>c?c:h,d=parseInt(c/e,0)):(d=i>d?d:i,c=parseInt(d*e,0)),g.css({height:c,width:d}).parent().css({top:parseInt((this.imageWrapperHeight-c)/2,0)+"px"})},full:function(a,b){var c,d,e=this.images[a].size.height,f=this.images[a].size.width,g=e/f,h=b.find("img");b.css({width:"100%",height:"100%"}),this.imageWrapperWidth=this.viewport.document.documentElement.clientWidth||this.viewport.document.body.clientWidth||0,this.imageWrapperHeight=this.viewport.document.documentElement.clientHeight||this.viewport.document.body.clientHeight||0,e>this.imageWrapperHeight?(c=Math.round(this.imageWrapperHeight/g),h.attr("width",c).attr("height",this.imageWrapperHeight)):f>this.imageWrapperWidth?(d=Math.round(this.imageWrapperWidth*g),h.attr("width",this.imageWrapperWidth).attr("height",d).css({"margin-top":(this.imageWrapperHeight-d)/2+"px"})):h.css({"margin-top":(this.imageWrapperHeight-e)/2+"px"}),this.role("next-icon").add(this.role("prev-icon")).css({top:"50%"})}},k.EFFECTS={"slide-vert":function(a,b,c){var d=parseInt(a.css("top"),10),e="0px";return"left"==b?(e="-"+this.imageWrapperHeight+"px",a.css("top",this.imageWrapperHeight+"px")):(e=this.imageWrapperHeight+"px",a.css("top","-"+this.imageWrapperHeight+"px")),c&&(c.css("bottom","-"+c[0].offsetHeight+"px"),c.animate({bottom:0},2*this.option("animationSpeed"))),this.currentDescription&&this.currentDescription.animate({bottom:"-"+this.currentDescription[0].offsetHeight+"px"},2*this.option("animationSpeed")),{oldImage:{top:e},newImage:{top:d}}},"slide-hori":function(a,b,c){var d=parseInt(a.css("left"),10),e="0px";return"left"==b?(e="-"+this.imageWrapperWidth+"px",a.css("left",this.imageWrapperWidth+"px")):(e=this.imageWrapperWidth+"px",a.css("left","-"+this.imageWrapperWidth+"px")),c&&(c.css("bottom","-"+c[0].offsetHeight+"px"),c.animate({bottom:0},2*this.option("animationSpeed"))),this.currentDescription&&this.currentDescription.animate({bottom:"-"+this.currentDescription[0].offsetHeight+"px"},2*this.option("animationSpeed")),{oldImage:{left:e},newImage:{left:d}}},resize:function(a){var b=a.width(),c=a.height(),d=parseInt(a.css("left"),10),e=parseInt(a.css("top"),10);return a.css({width:0,height:0,top:this.imageWrapperHeight/2,left:this.imageWrapperWidth/2}),{oldImage:{width:0,height:0,top:this.imageWrapperHeight/2,left:this.imageWrapperWidth/2},newImage:{width:b,height:c,top:e,left:d}}},fade:function(a){return a.css("opacity",0),{oldImage:{opacity:0},newImage:{opacity:1}}},none:function(a){return a.css("opacity",0),{oldImage:{opacity:0},newImage:{opacity:1},speed:0}}},c.exports=k}),define("pandora/gallery/1.0.0/fullscreen",["$","pandora/overlay/1.0.0/overlay","pandora/widget/1.0.0/widget","pandora/base/1.0.0/base","pandora/class/1.0.0/class","pandora/events/1.0.0/events"],function(a,b,c){"use strict";var d,e=a("$"),f=a("pandora/overlay/1.0.0/overlay"),g=a("pandora/gallery/1.0.0/fullscreen.css"),h=f.extend({defaults:{container:null,element:"[data-role=fullscreen]",gallery:null,autoShow:!1,css:{position:window.ActiveXObject&&!window.XMLHttpRequest?"absolute":"fixed",left:0,top:0,width:"100%",height:"100%",display:"none",background:"#000",opacity:1},data:{loader:"/statics/hw/img/loading-with-text.gif"},delegates:{"click [data-role=close]":function(){this.close()},"click [data-role=desc-trigger]":function(a){this.descShow?(e(a.currentTarget).removeClass("btn-down").addClass("btn-up"),this.role("desc-box").removeClass("info-box-hover"),this.role("desc").slideUp(300)):(e(a.currentTarget).removeClass("btn-up").addClass("btn-down"),this.role("desc-box").addClass("info-box-hover"),this.role("desc").slideDown(300)),this.descShow=!this.descShow}},importStyle:!0},setup:function(){var a=this;a.option("gallery")&&(a.linkedGallery=a.option("gallery"),a.option("descShow")&&(a.descShow=a.option("descShow"),a.data({descShow:a.descShow})),this.option("importStyle")&&!d&&(g(),d=!0),this.element.css({visibility:"hidden"}),this.render(),a.initGallery(),a.close(function(){a.linkedGallery.showImage(a.gallery.currentIndex)}),a.initDelegates({keydown:function(a){27===a.keyCode&&this.is(":visible")&&this.close()}},document))},initGallery:function(){var b=this;b.gallery=new b.linkedGallery.constructor({css:{width:"100%",height:"100%"},images:b.linkedGallery.images,imageField:"big",template:a("pandora/gallery/1.0.0/fullscreen.handlebars"),data:{descShow:b.data("descShow")},element:b.linkedGallery.role("fullscreen-gallery"),effect:"fade",imageWrapper:".screen-image-box",display:"full",cycle:this.linkedGallery.option("cycle"),autoPlay:this.linkedGallery.option("autoPlay"),interval:this.linkedGallery.option("interval"),startIndex:this.linkedGallery.currentIndex,fullscreen:!1,thumbnails:!1,prev:b.linkedGallery.option("prev"),next:b.linkedGallery.option("next")})},show:function(){this.gallery.showImage(this.linkedGallery.currentIndex),h.superclass.show.apply(this)},close:function(a){return a?this.on("close",a):void(this.fire("close")!==!1&&this.hide())},destroy:function(a){return a?this.on("destroy",a):void h.superclass.destroy.apply(this)}});c.exports=h}),define("pandora/gallery/1.0.0/fullscreen.css",["pandora/importstyle/1.0.0/importstyle"],function(a,b,c){var d=a("pandora/importstyle/1.0.0/importstyle");c.exports=function(){d(".gb-gallery-fullscreen{background:#000}.gb-gallery-fullscreen .gb-gallery .loading{background:url(/statics/hw/img/loading-with-text.gif) no-repeat center center}.gb-gallery-fullscreen .screen-image-box{overflow:hidden;*zoom:1;width:100%}.gb-gallery-fullscreen .screen-image-box .loader{display:none;position:absolute;z-index:0}.gb-gallery-fullscreen .pic-box .pic{max-height:1080px;max-width:1920px}.gb-gallery-fullscreen .info-box{position:absolute;z-index:100;width:100%;margin-top:-33px;bottom:0;left:0}.gb-gallery-fullscreen .info-box-in{position:relative;overflow:hidden;*zoom:1}.gb-gallery-fullscreen .info-box-hover{position:absolute;left:0;bottom:0;margin-top:0}.gb-gallery-fullscreen .info-box .top-box{padding:5px 0}.gb-gallery-fullscreen .info-box .top-box .btn{display:block;background:url(/statics/hw/img/arrow3.png) 0 0 no-repeat;width:55px;height:23px;margin:0 auto;cursor:pointer;_background:0;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='/statics/hw/img/arrow3.png')}.gb-gallery-fullscreen .info-box .top-box .btn-down{background:url(/statics/hw/img/arrow4.png) 0 0 no-repeat;_background:0;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='/statics/hw/img/arrow4.png')}.gb-gallery-fullscreen .info-box .txt-box{color:#fff;text-align:left;padding:7px 30px 27px;display:none;font-size:12px}.gb-gallery-fullscreen .mask{position:absolute;top:0;left:0;width:100%;height:40em;background:#000;filter:alpha(opacity:80);opacity:.8;z-index:-1}:root .gb-gallery-fullscreen .mask{filter:none \\0}.gb-gallery-fullscreen .btn-c{display:none;width:60px;height:80px;top:50%;margin-top:-40px;background:url(/statics/hw/img/spritesnew.png) 0 -232px no-repeat;position:absolute}.gb-gallery-fullscreen .next,.prev{position:absolute;width:50%;top:0;z-index:2;height:100%;cursor:pointer;background:#fff;opacity:0;filter:alpha(opacity=0)}.gb-gallery-fullscreen .next{right:0}.gb-gallery-fullscreen .prev{left:0}.gb-gallery-fullscreen .btn-prev{left:0}.gb-gallery-fullscreen .btn-prev:hover{background-position:0 -312px}.gb-gallery-fullscreen .btn-next{background-position:0 -72px;right:0}.gb-gallery-fullscreen .btn-next:hover{background-position:0 -152px}.gb-gallery-fullscreen .btn-esc{display:block;width:40px;height:36px;background:url(/statics/hw/img/spritesnew.png) 0 0 no-repeat;position:absolute;top:20px;right:20px;z-index:10}.gb-gallery-fullscreen .btn-esc:hover{background-position:0 -36px}.gb-gallery-fullscreen .tip{position:absolute;top:377px;left:50%;top:50%;margin-left:-100px;margin-top:-23px;line-height:46px;color:#888;font-size:14px;width:200px;text-align:center;z-index:100;overflow:hidden;cursor:pointer;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px}.gb-gallery-fullscreen .tip .mask{width:200px;height:46px}.gb-gallery-fullscreen .view-pic{position:absolute;right:0;top:-26px}.gb-gallery-fullscreen .view-pic-item{display:block;color:#fff;background-color:#294c8e;padding:3px 5px}.gb-gallery-fullscreen .view-pic-item:hover{background-color:#3760ad;text-decoration:none}.gb-gallery-fullscreen .view-pic .ico{width:14px;height:14px;background:url(/statics/hw/img/view-pic-ico.png) no-repeat 0 0;_background:0;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='/statics/hw/img/view-pic-ico.png');margin-right:4px;display:inline-block;vertical-align:middle;overflow:hidden}.gb-gallery-fullscreen .ad-image-box .view-pic{top:auto;bottom:10px;right:10px;z-index:2}","pandora/gallery/1.0.0/fullscreen.css")}}),define("pandora/gallery/1.0.0/fullscreen.handlebars",["gallery/handlebars/1.3.0/handlebars"],function(a,b,c){var d=a("gallery/handlebars/1.3.0/handlebars");c.exports=d.template(function(a,b,c,d,e){function f(){return"info-box-hover"}function g(){return"btn-down"}function h(){return"btn-up"}function i(){return'style="display: block;"'}this.compilerInfo=[4,">= 1.0.0"],c=c||{};for(var j in a.helpers)c[j]=c[j]||a.helpers[j];e=e||{};var k,l="",m=this;return l+='<div class="screen-box-in" style="width: 100%;  height: 100%;">\r\n	<div class="screen-image-box" style="width: 100%;  height: 100%;"></div>\r\n	<div class="prev" data-role="prev"></div>\r\n	<a href="javascript:;" class="btn-c btn-prev" data-role="prev-icon"></a>\r\n	<div class="next" data-role="next"></div>\r\n	<a href="javascript:;" class="btn-c btn-next" data-role="next-icon"></a>\r\n	<a href="javascript:;" class="btn-esc" title="退出全屏" data-role="close"></a>\r\n	<div class="info-box ',k=c["if"].call(b,b&&b.descShow,{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(k||0===k)&&(l+=k),l+='" data-role="desc-box">\r\n		<div class="view-pic">\r\n			<a href="javascript:;" target="_blank" title="查看原图" class="view-pic-item" data-role="original"><i class="ico png"></i>查看原图</a>\r\n		</div>\r\n		<div class="info-box-in">\r\n			<div class="top-box">\r\n				<div class="btn ',k=c["if"].call(b,b&&b.descShow,{hash:{},inverse:m.program(5,h,e),fn:m.program(3,g,e),data:e}),(k||0===k)&&(l+=k),l+='" data-role="desc-trigger"></div>						\r\n			</div>\r\n			<p class="txt-box" ',k=c["if"].call(b,b&&b.descShow,{hash:{},inverse:m.noop,fn:m.program(7,i,e),data:e}),(k||0===k)&&(l+=k),l+=' data-role="desc"></p>\r\n			<b class="mask"></b>\r\n		</div>\r\n	</div>\r\n</div>'})}),define("pandora/gallery/1.0.0/thumbnails",["$","pandora/widget/1.0.0/widget","pandora/base/1.0.0/base","pandora/class/1.0.0/class","pandora/events/1.0.0/events"],function(a,b,c){"use strict";var d=a("$"),e=a("pandora/widget/1.0.0/widget"),f=e.extend({defaults:{container:null,element:"[data-role=thumbnails]",gallery:null,higtLightClass:"gb-gallery-thumbs-item-active",navDisplayWidth:0,scrollJump:0,effect:"fade",slideshow:{enable:!0,autostart:!1,speed:5e3,startLabel:"Start",stopLabel:"Stop",stopOnScroll:!0,countdownPrefix:"(",countdownSufix:")",onStart:!1,onStop:!1},delegates:{"click [data-role=thumb-item]":function(a){this.gallery&&this.gallery.showImage(d(a.currentTarget).index())},"click [data-role=back]":"click","mouseover [data-role=back]":function(a){!this.gallery.mobile&&this.mouseoverHandler(a)},"mouseout [data-role=back]":function(a){!this.gallery.mobile&&this.mouseoutHandler(a)},"click [data-role=forward]":"click","mouseover [data-role=forward]":function(a){!this.gallery.mobile&&this.mouseoverHandler(a)},"mouseout [data-role=forward]":function(a){!this.gallery.mobile&&this.mouseoutHandler(a)}}},setup:function(){if(this.option("gallery")){var a=this;a.gallery=this.option("gallery"),a.hasScrolled=0,a.thumbsLoaded=!1,a.thumbsScrollInterval=!1,a.render(),a.thumbsWrapper=a.role("thumbswrapper")}},toggle:function(){this.element.is(":visible")?this.hide():this.show()},show:function(a){return a?this.on("show",a):(f.EFFECTS[this.option("effect")].show.call(this,f.superclass.show),this)},hide:function(a){return a?this.on("hide",a):(f.EFFECTS[this.option("effect")].hide.call(this,f.superclass.hide),this)},go:function(a){var b=this,c=setInterval(function(){b.highLightThumb(a),clearInterval(c)},10)},highLightThumb:function(a){var b=this,c=b.option("higtLightClass");b.$("."+c).removeClass(c);var d=b.role("thumb-item").eq(a);d.addClass(c);var e=b.thumbsWrapper[0].offsetLeft;e=b.thumbsWrapper[0].offsetWidth/2-d[0].offsetWidth*(a+.5);var f=b.thumbsWrapper.width()-b.role("thumb-item").width()*b.role("thumb-item").length;f>e&&(e=f),e>0&&(e=0),this.thumbsWrapper.stop().animate({left:e+"px"})},click:function(a){var b=this,c=b.thumbsWrapper.width();b.option("scrollJump")>0&&(c=b.option("scrollJump"));var d=b.thumbsWrapper[0].offsetLeft;"forward"==b.$(a.currentTarget).attr("data-role")?d-=c:d+=c;var e=b.thumbsWrapper.width()-b.role("thumb-item").width()*b.role("thumb-item").length;return e>d&&(d=e),d>0&&(d=0),b.thumbsWrapper.animate({left:d+"px"}),!1},mouseoverHandler:function(a){var b=this,c="left";"forward"==b.$(a.currentTarget).attr("data-role")&&(c="right"),b.thumbsScrollInterval=setInterval(function(){b.hasScrolled++;var a=b.thumbsWrapper.css("left")+""=="NaN"?"0":parseInt(b.thumbsWrapper.css("left"),0);"left"==c?a++:a--;var d=b.thumbsWrapper.width()-b.role("thumb-item").width()*b.role("thumb-item").length;d>a&&(a=d,clearInterval(b.thumbsScrollInterval)),a>0&&(a=0,clearInterval(b.thumbsScrollInterval)),b.thumbsWrapper.css({left:a+"px"})},10)},mouseoutHandler:function(){var a=this;a.hasScrolled=0,clearInterval(a.thumbsScrollInterval)},loadThumb:function(a){var b=this,c=b.gallery.images[a].height,e=b.gallery.images[a].width,f=b.$("img").eq(a);if(c&&e)b.centerImage(f,c,e);else if(b.gallery.images[a].preloaded)b.centerImage(f,b.gallery.images[a].size.height,b.gallery.images[a].size.width);else{var g=d(new Image);g.attr("src",f.attr("src")),g.load(function(){b.centerImage(f,g[0].height,g[0].width)})}},centerImage:function(a,b,c){var d=b/c;if(d>1)a.css({width:"100%"});else{var e=a.parent().height(),f=a.parent().width();a.css({height:"100%",margin:"0 0 0 "+Math.round((f-e/d)/2)+"px"})}},setWidth:function(){var a=this,b=a.element.width();/\d+/.test(a.thumbsWrapper.css("left"))&&(b-=2*parseInt(a.thumbsWrapper.css("left"),10)),/\d+/.test(a.thumbsWrapper.css("right"))&&(b-=2*parseInt(a.thumbsWrapper.css("right"),10)),a.thumbsWrapper.css({width:b+"px"});var c=a.role("thumb-item");a.$(".js-thumb-list").width((c.width()+parseInt(c.css("margin-left"),0)+parseInt(c.css("margin-right"),0))*a.gallery.images.length)},saveThumbStatus:function(){},destroy:function(a){return a?this.on("destroy",a):void f.superclass.destroy.apply(this)}});f.EFFECTS={none:{show:function(a){a.call(this)},hide:function(a){a.call(this)}},fade:{show:function(a){var b=this;b.element.fadeIn(200,function(){a.call(b)})},hide:function(a){var b=this;b.element.fadeOut(200,function(){a.call(b)})}}},c.exports=f}),define("pandora/gallery/1.0.0/gallery.css",["pandora/importstyle/1.0.0/importstyle"],function(a,b,c){var d=a("pandora/importstyle/1.0.0/importstyle");c.exports=function(){d(".gb-gallery p{margin:0}.gb-gallery a{text-decoration:none}.gb-gallery img{max-width:100%;max-height:100%;border:0;vertical-align:middle}.gb-gallery .loading{background:url(/statics/hw/img/loading-white-16x16.gif) no-repeat center center}.gb-gallery .gb-gallery-in{overflow:hidden;*zoom:1;position:relative}.gb-gallery .gb-gallery-btn i{position:absolute;top:50%;background:url(/statics/hw/img/b.png) no-repeat;cursor:pointer}.gb-gallery .gb-gallery-btn-prev{left:0}.gb-gallery .gb-gallery-btn-next{right:0}.gb-gallery-viewport{position:relative}.gb-gallery-viewport-con{text-align:center}.gb-gallery-viewport .gb-gallery-btn{position:absolute;top:0;width:50%;height:100%;background:url(/statics/hw/img/b.png) no-repeat -73px 0}.gb-gallery-viewport .gb-gallery-btn i{display:none;_display:block;width:35px;height:55px;margin-top:-27px}.gb-gallery-viewport .gb-gallery-btn-prev i{left:10px;background-position:0 0}.gb-gallery-viewport .gb-gallery-btn-next i{right:10px;background-position:-37px 0}.gb-gallery-detail{position:relative;*zoom:1;padding:.3em 0 .8em}.gb-gallery-detail .gb-gallery-num{overflow:hidden;position:absolute;bottom:-1.5em;height:36px;padding:0;font:400 16px/1.2 Georgia;color:#999}.gb-gallery-detail .gb-gallery-num-cur{font-size:30px;color:#cc1b1b}.gb-gallery-detail .gb-gallery-desc{color:#666;line-height:1.75}.gb-gallery-tools{float:right;padding-bottom:.8em}.gb-gallery-tools .gb-gallery-btn{overflow:hidden;_display:inline;float:left;height:17px;margin-left:2em;font-size:14px;line-height:17px;color:#666;background:url(/statics/hw/img/b.png) no-repeat}.gb-gallery-tools .gb-gallery-btn:visited,.gb-gallery-tools .gb-gallery-btn:hover,.gb-gallery-tools .gb-gallery-btn:active{color:#333}.gb-gallery-tools .gb-gallery-btn-zoom{padding-left:20px;background-position:-56px -56px}.gb-gallery-tools .gb-gallery-btn-full{padding-left:19px;background-position:-56px -84px}.gb-gallery-tools .gb-gallery-btn-thumbs{width:15px;background-position:0 -84px}.gb-gallery-tools .gb-gallery-btn-thumbs-active{width:15px;background-position:-16px -84px}.gb-gallery-thumbs{clear:both;position:relative;padding:2px 30px}.gb-gallery-thumbs-con{position:relative;overflow:hidden;width:100%;height:100%;margin:-2px;padding:2px}.gb-gallery-list-thumbs{position:relative;height:100%;font-size:0;white-space:nowrap}.gb-gallery-thumbs-item{display:inline-block;*display:inline;*zoom:1;margin:0;padding:0;height:100%;vertical-align:top}.gb-gallery-thumbs-item-in{height:100%;margin:0 5px}.gb-gallery-thumbs-item a{display:block;overflow:hidden;width:100%;height:100%;background:#dedede}.gb-gallery-thumbs-item a img{display:block;margin:0 auto}.gb-gallery-thumbs-item a:hover,.gb-gallery-thumbs-item-active a{position:relative;margin:-2px;border:2px solid #ffcd00}.gb-gallery-thumbs .gb-gallery-btn{position:absolute;top:0;width:30px;height:100%;background:url(/statics/hw/img/b.png) no-repeat -73px 0}.gb-gallery-thumbs .gb-gallery-btn i{width:15px;height:25px;margin:-12px 0 0 7px}.gb-gallery-thumbs .gb-gallery-btn-prev i{background-position:0 -57px}.gb-gallery-thumbs .gb-gallery-btn-next i{background-position:-17px -57px}","pandora/gallery/1.0.0/gallery.css")}}),define("pandora/gallery/1.0.0/gallery.handlebars",["gallery/handlebars/1.3.0/handlebars"],function(a,b,c){var d=a("gallery/handlebars/1.3.0/handlebars");c.exports=d.template(function(a,b,c,d,e){function f(){return'\r\n		<a href="javascript:void(0);" class="gb-gallery-btn gb-gallery-btn-full" data-role="fullscreen-trigger">全屏查看</a>\r\n		'}function g(){return'\r\n		<a href="javascript:void(0);" class="gb-gallery-btn gb-gallery-btn-thumbs gb-gallery-btn-thumbs-active" data-role="thumbnails-trigger"></a>\r\n		'}function h(a,b){var d,e,f="";return f+='\r\n	<div class="gb-gallery-thumbs" data-role="thumbnails" style="height:',(e=c.thumbHeight)?d=e.call(a,{hash:{},data:b}):(e=a&&a.thumbHeight,d=typeof e===n?e.call(a,{hash:{},data:b}):e),f+=o(d)+';">\r\n		<div class="gb-gallery-thumbs-con">\r\n			<div class="gb-gallery-list-thumbs" data-role="thumbswrapper">\r\n				',d=c.each.call(a,a&&a.images,{hash:{},inverse:p.noop,fn:p.programWithDepth(6,i,b,a),data:b}),(d||0===d)&&(f+=d),f+='\r\n			</div>\r\n		</div>\r\n		<a href="javascript:void(0);" class="gb-gallery-btn gb-gallery-btn-prev" data-role="back"><i></i></a>\r\n		<a href="javascript:void(0);" class="gb-gallery-btn gb-gallery-btn-next" data-role="forward"><i></i></a>\r\n	</div>\r\n	'}function i(a,b,d){var e,f,g="";return g+='\r\n					<div class="gb-gallery-thumbs-item" data-role="thumb-item" style="width:'+o((e=d&&d.thumbWidth,typeof e===n?e.apply(a):e))+';">\r\n						<div class="gb-gallery-thumbs-item-in">\r\n							<a href="javascript:void(0);" title="',(f=c.desc)?e=f.call(a,{hash:{},data:b}):(f=a&&a.desc,e=typeof f===n?f.call(a,{hash:{},data:b}):f),g+=o(e)+'">\r\n								<img src="',(f=c.thumb)?e=f.call(a,{hash:{},data:b}):(f=a&&a.thumb,e=typeof f===n?f.call(a,{hash:{},data:b}):f),g+=o(e)+'" alt="',(f=c.desc)?e=f.call(a,{hash:{},data:b}):(f=a&&a.desc,e=typeof f===n?f.call(a,{hash:{},data:b}):f),g+=o(e)+'" />\r\n							</a>\r\n						</div>\r\n					</div>\r\n				'}function j(){return'\r\n	<div class="gb-gallery-fullscreen" data-role="fullscreen">\r\n		<div class="screen-box" data-role="fullscreen-gallery"></div>\r\n	</div>\r\n	'}this.compilerInfo=[4,">= 1.0.0"],c=c||{};for(var k in a.helpers)c[k]=c[k]||a.helpers[k];e=e||{};var l,m="",n="function",o=this.escapeExpression,p=this;return m+='<div class="gb-gallery-in">\r\n	<div class="gb-gallery-viewport">\r\n		<a href="javascript:void(0);" class="gb-gallery-btn gb-gallery-btn-prev" data-role="prev"><i data-role="prev-icon"></i></a>\r\n		<a href="javascript:void(0);" class="gb-gallery-btn gb-gallery-btn-next" data-role="next"><i data-role="next-icon"></i></a>\r\n	</div>\r\n	<div class="gb-gallery-detail">\r\n		<p class="gb-gallery-num">\r\n			<span class="gb-gallery-num-cur" data-role="current"></span>/<span class="gb-gallery-num-sum" data-role="total">16</span>\r\n		</p>\r\n		<div class="gb-gallery-desc" data-role="desc"></div>\r\n	</div>\r\n	<div class="gb-gallery-tools">\r\n		<a href="javascript:void(0);" target="_blank" class="gb-gallery-btn gb-gallery-btn-zoom" data-role="original">查看原图</a>\r\n		',l=c["if"].call(b,b&&b.fullscreen,{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(l||0===l)&&(m+=l),m+="\r\n		",l=c["if"].call(b,b&&b.thumbnails,{hash:{},inverse:p.noop,fn:p.program(3,g,e),data:e}),(l||0===l)&&(m+=l),m+="\r\n	</div>\r\n	",l=c["if"].call(b,b&&b.thumbnails,{hash:{},inverse:p.noop,fn:p.program(5,h,e),data:e}),(l||0===l)&&(m+=l),m+="\r\n	",l=c["if"].call(b,b&&b.fullscreen,{hash:{},inverse:p.noop,fn:p.program(8,j,e),data:e}),(l||0===l)&&(m+=l),m+="\r\n</div>"
})});