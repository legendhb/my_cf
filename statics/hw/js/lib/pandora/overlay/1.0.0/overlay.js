/*! overlay-1.0.0 2014-08-13 12:17:51 */
define("pandora/overlay/1.0.0/overlay",["$","pandora/widget/1.0.0/widget","pandora/base/1.0.0/base","pandora/class/1.0.0/class","pandora/events/1.0.0/events"],function(a,b,c){"use strict";var d=a("$"),e=a("pandora/widget/1.0.0/widget"),f=e.extend({defaults:{autoShow:!0,baseXY:{x:0,y:0},classPrefix:"ue-overlay",css:{height:"auto",position:"absolute",width:"auto",zIndex:901},effect:"fade",offset:{x:0,y:0},selfXY:{x:0,y:0}},setup:function(){this.element.attr({tabIndex:-1}).css({visibility:"hidden"}),this.render()},setPosition:function(){var a,b,c=this,e=d(c.option("baseElement")||c.document),f=c.option("baseXY"),g=e.offset()||{left:0,top:0},h=c.element,i=c.option("selfXY"),j=c.option("offset"),k="fixed"===c.option("css/position");return k||(g.left+=e.scrollLeft(),g.top+=e.scrollTop()),a=g.left+e.outerWidth()*f.x-h.outerWidth()*i.x+j.x,b=g.top+e.outerHeight()*f.y-h.outerHeight()*i.y+j.y,h.css({left:Math.max(a,0),top:Math.max(b,0)}),c},show:function(a){return a?this.on("show",a):(f.EFFECTS[this.option("effect")].show.call(this,f.superclass.show),this)},hide:function(a){return a?this.on("hide",a):(f.EFFECTS[this.option("effect")].hide.call(this,f.superclass.hide),this)},animate:function(){return this.element.animate.apply(this.element,arguments),this},stop:function(){return this.element.stop(!1,!0),this},render:function(){var a=this;return f.superclass.render.apply(a),a.setPosition(),a.element.css({display:"none",visibility:"visible"}),a.option("autoShow")&&!a.option("trigger")&&a.show(),a}});f.EFFECTS={none:{show:function(a){a.call(this)},hide:function(a){a.call(this)}},fade:{show:function(a){var b=this;b.element.fadeIn(200,function(){a.call(b)})},hide:function(a){var b=this;b.element.fadeOut(200,function(){a.call(b)})}}},c.exports=f});